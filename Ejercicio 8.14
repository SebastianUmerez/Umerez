#include <stdio.h>

// Declaración de las funciones de operaciones
int ingresar_opcion(void);
float suma(float a, float b);
float resta(float a, float b);
float division(float a, float b);
float multiplicacion(float a, float b);

// Función para operar que recibe el puntero a la función de la operación
float operar(float (*operacion)(float, float), float a, float b);

int main(void) {
    int opcion;
    float num1, num2, resultado;

    // Punteros a las funciones de las operaciones
    float (*operaciones[4])(float, float) = {suma, resta, division, multiplicacion};

    // Requisito 1: Presentar el menú
    opcion = ingresar_opcion();

    // Validación simple
    if (opcion < 1 || opcion > 4) {
        printf("Opción inválida. Fin del programa.\n");
        return 1;
    }

    // Requisito 2: Solicitar los dos números al usuario
    printf("Ingrese el primer número: ");
    scanf("%f", &num1);
    printf("Ingrese el segundo número: ");
    scanf("%f", &num2);

    // Validación de división por cero
    if (opcion == 3 && num2 == 0) {
        printf("Error: División por cero no permitida.\n");
        return 1;
    }

    // Requisito 3: Llamar a la función operar y pasar la operación seleccionada
    resultado = operar(operaciones[opcion - 1], num1, num2);

    // Requisito 4: Imprimir el resultado
    printf("El resultado de la operación es: %.2f\n", resultado);

    return 0;
}

// --- Implementación de funciones ---
int ingresar_opcion(void) {
    int opcion;
    printf("Seleccione una operación:\n");
    printf("1. Suma\n");
    printf("2. Resta\n");
    printf("3. División\n");
    printf("4. Multiplicación\n");
    printf("Opción: ");
    scanf("%d", &opcion);
    return opcion;
}

float suma(float a, float b) {
    return a + b;
}

float resta(float a, float b) {
    return a - b;
}

float division(float a, float b) {
    return a / b;
}

float multiplicacion(float a, float b) {
    return a * b;
}

float operar(float (*operacion)(float, float), float a, float b) {
    return operacion(a, b);
}
